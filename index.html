<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palmon Survival - Colored Text Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        .container {
            width: 100%;
            max-width: 600px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            padding: 30px;
            box-sizing: border-box;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }
        
        h1 {
            color: white;
            margin: 0;
            font-size: 28px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            line-height: 1.3;
        }
        
        .author {
            color: rgba(255, 255, 255, 0.9);
            font-style: italic;
            margin-top: 8px;
            font-size: 14px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        
        textarea {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            box-sizing: border-box;
            resize: vertical;
            min-height: 100px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .color-set-group {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .color-set-group legend {
            font-weight: 600;
            padding: 0 10px;
            color: #333;
        }
        
        .color-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
        }
        
        .color-option {
            display: flex;
            align-items: center;
        }
        
        .color-option input {
            margin-right: 8px;
            cursor: pointer;
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }
        
        .color-label {
            font-family: 'Consolas', monospace;
            font-weight: bold;
            cursor: pointer;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-right: 10px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .display-panel {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            min-height: 150px;
            max-height: 300px;
            overflow-y: auto;
            background-color: #fcfcfe;
            margin-top: 20px;
            font-family: 'Consolas', monospace;
            font-size: 18px;
            font-weight: bold;
            line-height: 1.5;
            word-wrap: break-word;
            white-space: pre-wrap;
        }
        
        .char-span {
            display: inline-block;
        }
        
        .space-char {
            display: inline-block;
            min-width: 8px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 12px 24px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 6px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .notification.show {
            opacity: 1;
        }
        
        .custom-colors-controls {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px dashed #e0e0e0;
        }
        
        .color-picker-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .color-picker-container input[type="color"] {
            width: 50px;
            height: 50px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
        }
        
        .custom-colors-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .color-swatch {
            width: 40px;
            height: 40px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            cursor: pointer;
            position: relative;
            transition: transform 0.2s;
        }
        
        .color-swatch:hover {
            transform: scale(1.1);
        }
        
        .color-swatch:hover::after {
            content: 'Ã—';
            position: absolute;
            top: -8px;
            right: -8px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .usage-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .usage-section h3 {
            margin-top: 0;
            color: #333;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .usage-steps {
            display: grid;
            gap: 12px;
        }
        
        .usage-step {
            display: flex;
            align-items: start;
            background: white;
            padding: 12px;
            border-radius: 6px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .step-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 12px;
            flex-shrink: 0;
            font-size: 14px;
        }
        
        .step-text {
            flex: 1;
            color: #555;
            line-height: 1.6;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 24px;
            }
            
            .color-options {
                grid-template-columns: 1fr;
            }
            
            .color-picker-container {
                flex-direction: column;
                align-items: stretch;
            }
            
            .color-picker-container button {
                margin-right: 0;
                margin-bottom: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Palmon Survival<br/>Colored Text Generator</h1>
            <div class="author">by Heineman</div>
        </div>
        
        <div class="form-group">
            <label for="textInput">Enter your text:</label>
            <textarea id="textInput" placeholder="Type your text here... (Supports multiple lines)"></textarea>
        </div>
        
        <fieldset class="color-set-group">
            <legend>Color Sets</legend>
            <div class="color-options">
                <div class="color-option">
                    <input type="radio" id="radioRainbow" name="colorSet" value="Rainbow" checked>
                    <label for="radioRainbow" class="color-label" id="labelRainbow">Rainbow</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioBlues" name="colorSet" value="Blues">
                    <label for="radioBlues" class="color-label" id="labelBlues">Blues</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioGreens" name="colorSet" value="Greens">
                    <label for="radioGreens" class="color-label" id="labelGreens">Greens</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioReds" name="colorSet" value="Reds">
                    <label for="radioReds" class="color-label" id="labelReds">Reds</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioPurples" name="colorSet" value="Purples">
                    <label for="radioPurples" class="color-label" id="labelPurples">Purples</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioOranges" name="colorSet" value="Oranges">
                    <label for="radioOranges" class="color-label" id="labelOranges">Oranges</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioBluePurple" name="colorSet" value="BluePurple">
                    <label for="radioBluePurple" class="color-label" id="labelBluePurple">Blue/Purple</label>
                </div>
                <div class="color-option">
                    <input type="radio" id="radioCustom" name="colorSet" value="Custom">
                    <label for="radioCustom" class="color-label" id="labelCustom">Custom</label>
                </div>
            </div>
            
            <div class="custom-colors-controls" id="customColorsControls" style="display: none;">
                <div class="color-picker-container">
                    <input type="color" id="colorPicker" value="#ff0000">
                    <button id="addColorBtn">Add Color</button>
                    <button id="clearColorsBtn">Clear All</button>
                </div>
                <div class="custom-colors-list" id="customColorsList"></div>
            </div>
        </fieldset>
        
        <button id="copyButton">Copy to clipboard</button>
        
        <div class="display-panel" id="displayPanel"></div>
        
        <div class="usage-section">
            <h3>How to Use</h3>
            <div class="usage-steps">
                <div class="usage-step">
                    <div class="step-number">1</div>
                    <div class="step-text">Type or paste your message in the text field above</div>
                </div>
                <div class="usage-step">
                    <div class="step-number">2</div>
                    <div class="step-text">Select a color set from the options (or create your own custom palette)</div>
                </div>
                <div class="usage-step">
                    <div class="step-number">3</div>
                    <div class="step-text">Click "Copy to clipboard" to copy the formatted text</div>
                </div>
                <div class="usage-step">
                    <div class="step-number">4</div>
                    <div class="step-text">Paste directly into Palmon Survival chat to display your colorful message</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="notification" id="notification">Copied to clipboard!</div>

    <script>
        // Color set definitions
        const colorSets = {
            "Rainbow": [
                "#FF0000", // Red
                "#FF4500", // Red-Orange
                "#FF8C00", // Dark Orange
                "#FFA500", // Orange
                "#FFD700", // Gold
                "#FFFF00", // Yellow
                "#9ACD32", // Yellow-Green
                "#32CD32", // Lime Green
                "#008000", // Green
                "#00CED1", // Dark Turquoise
                "#1E90FF", // Dodger Blue
                "#0000FF", // Blue
                "#4B0082", // Indigo
                "#8B00FF", // Electric Violet
                "#9400D3", // Dark Violet
                "#EE82EE", // Violet
                "#FF1493"  // Deep Pink
            ],
            "Blues": [
                "#ADD8E6", // LightBlue
                "#00BFFF", // DeepSkyBlue
                "#1E90FF", // DodgerBlue
                "#4169E1", // RoyalBlue
                "#0000FF", // Blue
                "#00008B", // DarkBlue
                "#000080"  // Navy
            ],
            "Greens": [
                "#90EE90", // LightGreen
                "#32CD32", // LimeGreen
                "#228B22", // ForestGreen
                "#008000", // Green
                "#006400", // DarkGreen
                "#2E8B57", // SeaGreen
                "#6B8E23"  // OliveDrab
            ],
            "Reds": [
                "#F08080", // LightCoral
                "#FA8072", // Salmon
                "#FF0000", // Red
                "#DC143C", // Crimson
                "#8B0000", // DarkRed
                "#B22222", // Firebrick
                "#800000"  // Maroon
            ],
            "Purples": [
                "#E6E6FA", // Lavender
                "#EE82EE", // Violet
                "#DA70D6", // Orchid
                "#9370DB", // MediumPurple
                "#8A2BE2", // BlueViolet
                "#9400D3", // DarkViolet
                "#800080"  // Purple
            ],
            "Oranges": [
                "#FF0000", // Pure Red
                "#FF2300",
                "#FF4600",
                "#FF6900",
                "#FF8C00",
                "#FFAF00",
                "#FFD200"  // Strong Orange
            ],
            "BluePurple": [
                "#0078FF",
                "#1464FF",
                "#2850FF",
                "#3C3CFF",
                "#5028FF",
                "#6414FF",
                "#7800FF"
            ],
            "Custom": []
        };

        // Get DOM elements
        const textInput = document.getElementById('textInput');
        const colorSetRadios = document.getElementsByName('colorSet');
        const copyButton = document.getElementById('copyButton');
        const displayPanel = document.getElementById('displayPanel');
        const notification = document.getElementById('notification');
        const customColorsControls = document.getElementById('customColorsControls');
        const colorPicker = document.getElementById('colorPicker');
        const addColorBtn = document.getElementById('addColorBtn');
        const clearColorsBtn = document.getElementById('clearColorsBtn');
        const customColorsList = document.getElementById('customColorsList');

        // Initialize custom colors
        let customColors = [];

        // Function to get selected color set
        function getSelectedColorSet() {
            for (const radio of colorSetRadios) {
                if (radio.checked) {
                    return radio.value;
                }
            }
            return "Rainbow";
        }

        // Function to calculate color index
        function getColorIndex(index, n) {
            if (n === 0) {
                return 0;
            }

            const p = index % (2 * n);

            if (p <= n) {
                return p;
            } else {
                return (2 * n - p);
            }
        }

        // Function to create colored label text
        function createColoredLabel(text, colors) {
            const container = document.createElement('span');
            container.className = 'color-label';
            
            const charArray = text.split('');
            
            for (let i = 0; i < charArray.length; i++) {
                const colorIndex = getColorIndex(i, colors.length - 1);
                const char = charArray[i];
                
                const charSpan = document.createElement('span');
                charSpan.className = 'char-span';
                charSpan.textContent = char;
                charSpan.style.color = colors[colorIndex];
                
                container.appendChild(charSpan);
            }
            
            return container;
        }

        // Function to update all color labels
        function updateColorLabels() {
            const labels = {
                "Rainbow": document.getElementById('labelRainbow'),
                "Blues": document.getElementById('labelBlues'),
                "Greens": document.getElementById('labelGreens'),
                "Reds": document.getElementById('labelReds'),
                "Purples": document.getElementById('labelPurples'),
                "Oranges": document.getElementById('labelOranges'),
                "BluePurple": document.getElementById('labelBluePurple'),
                "Custom": document.getElementById('labelCustom')
            };

            for (const [setName, labelElement] of Object.entries(labels)) {
                const colors = colorSets[setName];
                const text = labelElement.textContent || labelElement.innerText;
                
                labelElement.innerHTML = '';
                
                const coloredText = createColoredLabel(text, colors);
                labelElement.appendChild(coloredText);
            }
        }

        // Function to refresh the displayed text
        function refreshText() {
            displayPanel.innerHTML = '';
            
            const text = textInput.value;
            if (!text) {
                return;
            }
            
            const selectedSet = getSelectedColorSet();
            const colors = selectedSet === "Custom" ? customColors : colorSets[selectedSet];
            
            if (colors.length === 0) {
                return;
            }
            
            const lines = text.split('\n');
            
            for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {
                const line = lines[lineIndex];
                const charArray = line.split('');
                
                let currentLine = document.createElement('div');
                displayPanel.appendChild(currentLine);
                
                for (let i = 0; i < charArray.length; i++) {
                    const colorIndex = getColorIndex(i, colors.length - 1);
                    const char = charArray[i];
                    
                    const charSpan = document.createElement('span');
                    charSpan.className = 'char-span';
                    
                    if (char === ' ') {
                        charSpan.className += ' space-char';
                        charSpan.innerHTML = '&nbsp;';
                    } else {
                        charSpan.textContent = char;
                    }
                    
                    charSpan.style.color = colors[colorIndex];
                    
                    currentLine.appendChild(charSpan);
                }
                
                handleLineWrapping(currentLine);
            }
        }

        // Function to handle line wrapping for a single line
        function handleLineWrapping(lineElement) {
            const panelWidth = displayPanel.clientWidth - 30;
            const chars = lineElement.querySelectorAll('.char-span');
            let currentWidth = 0;
            let wrapIndex = -1;
            
            for (let i = 0; i < chars.length; i++) {
                const charWidth = chars[i].offsetWidth;
                
                if (currentWidth + charWidth > panelWidth) {
                    for (let j = i - 1; j >= 0; j--) {
                        if (chars[j].classList.contains('space-char')) {
                            wrapIndex = j;
                            break;
                        }
                    }
                    
                    if (wrapIndex === -1) {
                        wrapIndex = i - 1;
                    }
                    break;
                }
                
                currentWidth += charWidth;
            }
            
            if (wrapIndex !== -1 && wrapIndex < chars.length - 1) {
                const newLine = document.createElement('div');
                const charsToMove = Array.from(chars).slice(wrapIndex + 1);
                
                charsToMove.forEach(char => {
                    lineElement.removeChild(char);
                    newLine.appendChild(char);
                });
                
                displayPanel.insertBefore(newLine, lineElement.nextSibling);
                
                handleLineWrapping(newLine);
            }
        }

        // Function to add color to custom set
        function addCustomColor(color) {
            customColors.push(color);
            colorSets.Custom = customColors;
            updateCustomColorsDisplay();
            updateColorLabels();
            refreshText();
        }

        // Function to remove color from custom set
        function removeCustomColor(index) {
            customColors.splice(index, 1);
            colorSets.Custom = customColors;
            updateCustomColorsDisplay();
            updateColorLabels();
            refreshText();
        }

        // Function to clear all custom colors
        function clearCustomColors() {
            customColors = [];
            colorSets.Custom = customColors;
            updateCustomColorsDisplay();
            updateColorLabels();
            refreshText();
        }

        // Function to update custom colors display
        function updateCustomColorsDisplay() {
            customColorsList.innerHTML = '';
            
            customColors.forEach((color, index) => {
                const swatch = document.createElement('div');
                swatch.className = 'color-swatch';
                swatch.style.backgroundColor = color;
                swatch.title = `Click to remove ${color}`;
                
                swatch.addEventListener('click', () => {
                    removeCustomColor(index);
                });
                
                customColorsList.appendChild(swatch);
            });
        }

        // Function to copy to clipboard
        function copyToClipboard() {
            const text = textInput.value;
            if (!text) {
                return;
            }
            
            const selectedSet = getSelectedColorSet();
            const colors = selectedSet === "Custom" ? customColors : colorSets[selectedSet];
            
            if (colors.length === 0) {
                alert("Please add at least one color to the custom set first!");
                return;
            }
            
            const lines = text.split('\n');
            let result = '';
            
            for (let lineIndex = 0; lineIndex < lines.length; lineIndex++) {
                const line = lines[lineIndex];
                const charArray = line.split('');
                
                for (let i = 0; i < charArray.length; i++) {
                    const colorIndex = getColorIndex(i, colors.length - 1);
                    const char = charArray[i];
                    const color = colors[colorIndex];
                    
                    if (char.match(/\S/)) {
                        result += `<${color}>${char}`;
                    } else {
                        result += char;
                    }
                }
                
                if (lineIndex < lines.length - 1) {
                    result += '\n';
                }
            }
            
            navigator.clipboard.writeText(result).then(() => {
                notification.classList.add('show');
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 2000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                alert('Failed to copy to clipboard. Please try again.');
            });
        }

        // Event listeners
        textInput.addEventListener('input', refreshText);
        
        for (const radio of colorSetRadios) {
            radio.addEventListener('change', function() {
                if (this.value === "Custom") {
                    customColorsControls.style.display = 'block';
                } else {
                    customColorsControls.style.display = 'none';
                }
                refreshText();
            });
        }
        
        addColorBtn.addEventListener('click', () => {
            addCustomColor(colorPicker.value);
        });
        
        clearColorsBtn.addEventListener('click', clearCustomColors);
        
        copyButton.addEventListener('click', copyToClipboard);
        
        // Initialize
        textInput.focus();
        updateColorLabels();
        refreshText();
        
        window.addEventListener('resize', refreshText);
    </script>
</body>
</html>
